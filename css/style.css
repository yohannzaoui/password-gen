:root { --bg-body: #f8f9fa; --bg-card: #ffffff; --text-main: #212529; --bg-result: #e9ecef; --border: #dee2e6; --text-crack: #6c757d; --label: #6c757d; }
[data-bs-theme="dark"] { --bg-body: #121212; --bg-card: #1e1e1e; --text-main: #f8f9fa; --bg-result: #2d2d2d; --border: #444; --text-crack: #adb5bd; --label: #adb5bd; }

body { min-height: 100vh; background-color: var(--bg-body); color: var(--text-main); display: flex; align-items: center; justify-content: center; padding: 20px 0; font-family: system-ui, sans-serif; transition: 0.3s; }
.main-wrapper { max-width: 900px; width: 100%; }
.card { background-color: var(--bg-card) !important; border-radius: 20px; transition: 0.3s; }
.result-box { background-color: var(--bg-result); border: 1px solid var(--border); border-radius: 12px; padding: 15px; display: flex; align-items: center; min-height: 70px; }
#password-display { font-family: monospace; font-weight: bold; flex-grow: 1; word-break: break-all; font-size: 1.1rem; color: #0d6efd; }
[data-bs-theme="dark"] #password-display { color: #6db1ff; }
#crack-time-display { color: var(--text-crack); font-size: 0.85rem; }
.section-label { color: var(--label); text-transform: uppercase; letter-spacing: 0.5px; }

/* --- HISTORIQUE DÉROULANT & RESPONSIVE --- */
#history-container { max-height: 300px; overflow-y: auto; padding-right: 5px; }
#history-container::-webkit-scrollbar { width: 5px; }
#history-container::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }

.history-item { 
    font-family: monospace; cursor: pointer; padding: 10px; border-bottom: 1px solid var(--border); 
    display: flex; justify-content: space-between; align-items: flex-start;
}
.password-text { word-break: break-all; white-space: normal; flex: 1; font-size: 0.85rem; }
.history-item:hover { background-color: rgba(13, 110, 253, 0.1); }
.password-hidden { -webkit-text-security: disc; text-security: disc; filter: blur(2px); opacity: 0.5; }

/* --- CONTRASTE ÉLEVÉ (JAUNE SUR NOIR) --- */
body.high-contrast { background-color: #000 !important; color: #fff !important; }
body.high-contrast .card { background-color: #000 !important; color: #fff !important; border: 3px solid #ffff00 !important; }
body.high-contrast .result-box { background-color: #000 !important; border: 2px solid #ffff00 !important; }
body.high-contrast #password-display, body.high-contrast .bi, body.high-contrast .badge, body.high-contrast .section-label { color: #ffff00 !important; }
body.high-contrast #crack-time-display { color: #ffffff !important; font-weight: bold; }
body.high-contrast .btn-primary, body.high-contrast .btn-outline-primary, body.high-contrast .btn-outline-secondary { 
    background-color: #000 !important; color: #ffff00 !important; border-color: #ffff00 !important; 
}
body.high-contrast .form-check-input:checked { background-color: #ffff00 !important; border-color: #ffff00 !important; }
body.high-contrast .form-range::-webkit-slider-thumb { background: #ffff00 !important; }
body.high-contrast .form-range::-moz-range-thumb { background: #ffff00 !important; }

.btn-check:checked + .btn-outline-primary { background-color: #0d6efd; color: white; }
#qrcode img { margin: 0 auto; border: 5px solid white; }